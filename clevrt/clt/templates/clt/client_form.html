{% extends "../base_generic.html" %}
{% load static %}
{% load clt_tags %}
{% block title %}<title>{{ title }}</title>{% endblock %}
{% block content %}


<main class="main-wrapper">
    <div class="client-title__block">
        <h1 class="client-title">{{ title }}</h1>
    </div>
    {% popup_form 'City' 'city' %}
    {% popup_form 'Country' 'country' %}
    <form action="" method="post">
        {% csrf_token %}
        {{ form.errors.name }}
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.name.id_for_label}}">{{form.name.label}}</label>:</p>
            <p class="info-row__input">{{ form.name }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.country.id_for_label}}">{{form.country.label}}</label>:</p>
            <p class="info-row__input">{{ form.country }}</p>
            <button class="section-add-info popup-button" data-target="country" id="add-country__inline-form">Добавить страну</button>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.city.id_for_label}}">{{form.city.label}}</label>:</p>
            <p class="info-row__input">{{ form.city }}</p>
            <button class="section-add-info popup-button" data-target="city" id="add-country__inline-city">Добавить город</button>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.hostname.id_for_label}}">{{form.hostname.label}}</label>:</p>
            <p class="info-row__input">{{ form.hostname }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.local_ip.id_for_label}}">{{form.local_ip.label}}</label>:</p>
            <p class="info-row__input">{{ form.local_ip }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.title_comment.id_for_label}}">{{form.title_comment.label}}</label>&nbsp;<img class="help-svg" src="{% static 'clt/img/svg/help-black-18dp.svg' %}" alt="help" title="виден в списке клиентов">:</p>
            <p class="info-row__input">{{ form.title_comment }}</p>
        </div>
        {{ ip_list.management_form }}
        {% for form in ip_list.forms %}
        {{ form.client }}
        {{ form.id }}
            <div class="info-row form-group row">
                <p class="info-title">IP-port сервера:</p>
                <p class="info-row__input"><label for="{{form.ip.id_for_label}}">{{form.ip.label}}</label>: {{ form.ip }} &nbsp;&nbsp;<label for="{{form.port.id_for_label}}">{{form.port.label}}</label>: {{ form.port }}</p>
                <p class="info-row__input"><span class="delete-item-form">&nbsp;&nbsp;Удалить:  {{ form.DELETE }}</span></p>
                <button class="section-add-info" id="add-ip-port__link">Добавить ip-port</button>
            </div>
        {% endfor %}
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.gateway_info.id_for_label}}">{{form.gateway_info.label}}</label>:</p>
            <p class="info-row__input">{{ form.gateway_info }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.officeIp1.id_for_label}}">{{form.officeIp1.label}}</label>:</p>
            <p class="info-row__input">{{ form.officeIp1 }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.officeIp2.id_for_label}}">{{form.officeIp2.label}}</label>:</p>
            <p class="info-row__input">{{ form.officeIp2 }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.officeIp3.id_for_label}}">{{form.officeIp3.label}}</label>:</p>
            <p class="info-row__input">{{ form.officeIp3 }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.officeIp4.id_for_label}}">{{form.officeIp4.label}}</label>:</p>
            <p class="info-row__input">{{ form.officeIp4 }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.additional_info.id_for_label}}">{{form.additional_info.label}}</label>:</p>
            <p class="info-row__input">{{ form.additional_info }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.client_status.id_for_label}}">{{form.client_status.label}}</label>:</p>
            <p class="info-row__input">{{ form.client_status }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.date_on.id_for_label}}">{{form.date_on.label}}</label>:</p>
            <p class="info-row__input">{{ form.date_on }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.date_off.id_for_label}}">{{form.date_off.label}}</label>:</p>
            <p class="info-row__input">{{ form.date_off }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title" title="Не отображается в списке клиентов"><label for="{{form.hide.id_for_label}}">{{form.hide.label}}</label>&nbsp;<img class="help-svg" src="{% static 'clt/img/svg/help-black-18dp.svg' %}" alt="help" title="Не будет отображаться в списке клиентов">:</p>
            <p class="info-row__input">{{ form.hide }}</p>
        </div>

        <div class="section-title__block">
            <h2 class="section-title">ИНФОРМАЦИЯ О СЕРВЕРЕ</h2>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.vps_own.id_for_label}}">{{form.vps_own.label}}</label>:</p>
            <p class="info-row__input">{{ form.vps_own }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.os_version.id_for_label}}">{{form.os_version.label}}</label>:</p>
            <p class="info-row__input">{{ form.os_version }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.ast_version.id_for_label}}">{{form.ast_version.label}}</label>:</p>
            <p class="info-row__input">{{ form.ast_version }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.ccs_version.id_for_label}}">{{form.ccs_version.label}}</label>:</p>
            <p class="info-row__input">{{ form.ccs_version }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.login_ccs.id_for_label}}">{{form.login_ccs.label}}</label>:</p>
            <p class="info-row__input">{{ form.login_ccs }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.secret_ccs.id_for_label}}">{{form.secret_ccs.label}}</label>:</p>
            <p class="info-row__input">{{ form.secret_ccs }}</p>
        </div>
        <div class="info-row form-group row">
            <p class="info-title"><label for="{{form.cphone_maxvers.id_for_label}}">{{form.cphone_maxvers.label}}</label>:</p>
            <p class="info-row__input">{{ form.cphone_maxvers }}</p>
        </div>

        <div class="section-title__block">
            <h2 class="section-title">КОНТАКТНАЯ ИНФОРМАЦИЯ</h2>
            <button class="section-add-info" id="add-number__link">Добавить номер</button>
        </div>
        {{ client_numbers.management_form }}
        {% for form in client_numbers %}
        {{ form.errors.number }}
        {{ form.client }}
        {{ form.id }}
            <div class="contact-row">
                <p class="name-number"><span class="name"><label for="{{form.name.id_for_label}}">{{form.name.label}}</label>:</span>{{ form.name }}<span class="number"><label for="{{form.number.id_for_label}}">{{form.number.label}}</label>:</span>{{ form.number }}<span class="hide-span"><label for="{{form.hide.id_for_label}}">{{form.hide.label}}</label>&nbsp;<img class="help-svg" src="{% static 'clt/img/svg/help-black-18dp.svg' %}" alt="help" title="Не будет отображаться в карточке клиента, но будет подниматься карточка клиента по номеру">:</span>{{ form.hide }}</p>
                <p class="contact-comment"><span class="comment-title"><label for="{{form.comment.id_for_label}}">{{form.comment.label}}</label>:</span>{{ form.comment }}&nbsp;&nbsp;<span class="delete-item-form">Удалить:  {{ form.DELETE }}</span></p>
            </div>
        {% endfor %}

        <div class="section-title__block">
            <h2 class="section-title">ШЛЮЗЫ</h2>
            <button class="section-add-info" id="add-gateway__link">Добавить шлюз</button>
        </div>
        {{ client_gateways.management_form }}
        {% for form in client_gateways %}
        {{ form.client }}
        {{ form.id }}
            <div class="gateway-row__block">
                    <p class="gateway-row">
                        <span class="gateway-ip"><label for="{{form.ip.id_for_label}}">{{form.ip.label}}</label>: {{ form.ip }}</span>
                        <span class="gateway-port"><label for="{{form.port.id_for_label}}">{{form.port.label}}</label>: {{ form.port }}</span>
                        <span class="gateway-login"><label for="{{form.login.id_for_label}}">{{form.login.label}}</label>: {{ form.login }}</span>
                        <span class="gateway-password"><label for="{{form.secret.id_for_label}}">{{form.secret.label}}</label>: {{ form.secret }}</span>
                        <span class="gateway-vendor"><label for="{{form.type_gateway.id_for_label}}">{{form.type_gateway.label}}</label>: {{ form.type_gateway }}</span>
                        <span class="delete-item-form">Удалить:  {{ form.DELETE }}</span>
                    </p>
            </div>
        {% endfor %}
        <div class="client-form__buttons">
            <button type="submit" id="save-client" class="button-st button-blue">Сохранить клиента</button>
            {% if client %}
                <a href="{{ client.get_absolute_url }}" class="client-form__cancel">Отменить</a>
            {% endif %}
        </div>

    </form>
</main>

{% endblock %}